<!doctype html>
<html lang="en" data-bs-theme="auto">

<head>

	<link th:replace="~{layoutGerencia :: fragmento-head}">

	<style>
		.odd {
			background-color: #f2f2f2;
			/* Define a cor de fundo para linhas ímpares */
		}

		.even {
			background-color: #ffffff;
			/* Define a cor de fundo para linhas pares */
		}
	</style>

</head>

<body>

	<link th:replace="~{layoutGerencia :: fragmento-header}">

	<div class="container-fluid sidebar">
		<div class="row">
			<div class="sidebar border border-right col-md-3 col-lg-2 p-0 bg-body-tertiary">
				<div class="offcanvas-md offcanvas-end bg-body-tertiary" tabindex="-1" id="sidebarMenu"
					aria-labelledby="sidebarMenuLabel">

					<link th:replace="~{layoutGerencia :: fragmento-lateral}">

				</div>
			</div>

			<main class="col-md-9 ms-sm-auto col-lg-10 px-md-4">

				<div th:if="${cliente_add != null}">



					<div
						class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom">
						<h1 class="h2">Gerenciar Clientes - Adicionar</h1>
					</div>

					<form class="needs-validation" novalidate action="#" th:action="@{/cliente/cadastrarGerencia}"
						th:object="${cliente_add}" method="post">
						<div class="row g-3">
							<div class="col-6">
								<label for="nome" class="form-label">Nome Completo</label>
								<input type="text" class="form-control" th:field="*{nome}" required />
								<div class="invalid-feedback">
									O nome é obrigatório.
								</div>
							</div>

							<div class="col-6">
								<label for="phone" class="form-label">Telefone</label>
								<input type="text" class="form-control" th:field="*{telefone}"
									placeholder="(22) 99876-4321" required>
								<div class="invalid-feedback">
									Por favor, forneça um número de telefone válido.
								</div>
							</div>

							<div class="col-6">
								<label for="cpf" class="form-label">CPF</label>
								<input type="text" class="form-control" th:field="*{cpf}" placeholder="123.456.789-00"
									required>
								<div class="invalid-feedback">
									Por favor, forneça um CPF válido.
								</div>
							</div>

							<div class="col-6">
								<label for="email" class="form-label">Email</label>
								<input type="email" class="form-control" id="email" name="email"
									th:field="*{Usuario.email}" placeholder="you@example.com">
								<div class="invalid-feedback">
									Por favor, insira um endereço de e-mail válido.
								</div>
							</div>

							<div class="col-6 mb-3">
								<label for="password" class="form-label">Senha</label>
								<input type="password" class="form-control" id="senha" name="senha" placeholder=""
									th:field="*{Usuario.senha}" required>
								<div class="invalid-feedback">
									Por favor, forneça uma senha.
								</div>
							</div>

							<div class="col-12">
								<button type="submit" class="btn btn-primary">Adicionar</button>
							</div>
						</div>
					</form>
				</div>

				<div th:if="${cliente_lista != null}">

					<script>
						function confirmDelete() {
							if (confirm('Tem certeza que deseja deletar este cliente?')) {
								// Exibe a mensagem de sucesso após a confirmação
								alert('Cliente deletado com sucesso.');
								return true; // Continua com a exclusão
							} else {
								return false; // Cancela a exclusão
							}
						}
					</script>

					<div
						class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom">
						<h1 class="h2">Gerenciar Clientes - Listar</h1>
					</div>

					<table>
						<thead>
							<tr>
								<th style="padding: 20px; text-align: center;">ID</th>
								<th style="padding: 20px; text-align: center;">Nome</th>
								<th style="padding: 20px; text-align: center;">Email</th>
								<th style="padding: 20px; text-align: center;">CPF</th>
								<th style="padding: 20px; text-align: center;">Telefone</th>
								<th style="padding: 20px; text-align: center;">Saldo</th>
								<th style="padding: 20px; text-align: center;">Ações</th>
								<!-- Adicione mais colunas conforme necessário -->
							</tr>
						</thead>
						<tbody>
							<tr th:each="cliente, i : ${cliente_lista}" th:class="${i.odd}? 'odd' : 'even'">
								<td th:text="${cliente.id}" style="padding: 20px; text-align: center;">ID do Cliente
								</td>
								<td th:text="${cliente.nome}" style="padding: 20px; text-align: center;">Nome do Cliente
								</td>
								<td th:text="${cliente.Usuario.email}" style="padding: 20px; text-align: center;">Email
									do Cliente</td>
								<td th:text="${cliente.cpf}" style="padding: 20px; text-align: center;">CPF do Cliente
								</td>
								<td th:text="${cliente.telefone}" style="padding: 20px; text-align: center;">Telefone do
									Cliente</td>

								<td style="padding: 20px; text-align: center;">R$: <span
										th:text="${cliente.carteira.saldoDisponivel}">Saldo do Cliente</span></td>


								<td style="padding: 20px; text-align: center;">

									<a th:href="@{/cliente/carrinho/{id}(id=${cliente.id})}"
										class="btn btn-success rounded-pill px-3">Carrinho</a> &nbsp;

									<a th:href="@{/cliente/editar/{id}(id=${cliente.id})}"
										class="btn btn-primary rounded-pill px-3">Editar</a> &nbsp;

									<a th:href="@{/cliente/deletarGerencia/{id}(id=${cliente.id})}"
										class="btn btn-danger rounded-pill px-3"
										onclick="return confirmDelete()">Deletar</a>
								</td>
							</tr>
						</tbody>
					</table>
				</div>

				<div th:if="${cliente_editar != null}">
					<div
						class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom">
						<h1 class="h2">Gerenciar Clientes - Editar</h1>
					</div>


					<form class="needs-validation" novalidate
						th:action="@{/cliente/atualizar/{id}(id=${cliente_editar.id})}" th:object="${cliente_editar}"
						method="post">
						<div class="row g-3">
							<div class="col-6">
								<label for="nome" class="form-label">Nome Completo</label>
								<input type="text" class="form-control" th:field="*{nome}" required />
								<div class="invalid-feedback">
									O nome é obrigatório.
								</div>
							</div>

							<div class="col-6">
								<label for="phone" class="form-label">Telefone</label>
								<input type="text" class="form-control" th:field="*{telefone}"
									placeholder="(22) 99876-4321" required>
								<div class="invalid-feedback">
									Por favor, forneça um número de telefone válido.
								</div>
							</div>

							<div class="col-6">
								<label for="cpf" class="form-label">CPF</label>
								<input type="text" class="form-control" th:field="*{cpf}" placeholder="123.456.789-00"
									required>
								<div class="invalid-feedback">
									Por favor, forneça um CPF válido.
								</div>
							</div>
							
							<div class="col-6">
								<label for="cpf" class="form-label">Saldo</label>
								<input type="text" class="form-control" th:field="*{carteira.saldoDisponivel}" required>
								<div class="invalid-feedback">
									
								</div>
							</div>
							
							<div class="col-6">
								<label for="email" class="form-label">Email</label>
								<input type="email" class="form-control" id="email" name="email"
									th:field="*{Usuario.email}" placeholder="you@example.com">
								<div class="invalid-feedback">
									Por favor, insira um endereço de e-mail válido.
								</div>
							</div>

							<div class="col-6 mb-3">
								<label for="password" class="form-label">Senha</label>
								<input type="password" class="form-control" id="senha" name="senha"
									th:field="*{Usuario.senha}" required>
								<div class="invalid-feedback">
									Por favor, forneça uma senha.
								</div>
							</div>

							<div class="col-12">
								<button type="submit" class="btn btn-primary">Atualizar</button>
							</div>
						</div>
					</form>


				</div>
				
				<div th:if="${cliente != null}">
					<div
						class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom">
						<h1 class="h2">Gerenciar Clientes - Carrinho</h1>
					</div>
					
					<table>
						<thead>
							<tr>
								<th style="padding: 20px; text-align: center;">ID</th>
								<th style="padding: 20px; text-align: center;">Nome</th>
								<th style="padding: 20px; text-align: center;">Descrição</th>
								<th style="padding: 20px; text-align: center;">Preço</th>
								<th style="padding: 20px; text-align: center;">Estoque</th>
								<!-- Adicione mais colunas conforme necessário -->
							</tr>
						</thead>
						<tbody>
							<tr th:each="carrinho, i : ${cliente.carrinho.listaDeProdutos}" th:class="${i.odd}? 'odd' : 'even'">
								<td th:text="${carrinho.id}" style="padding: 20px; text-align: center;">ID do Produto
								</td>
								<td th:text="${carrinho.nome}" style="padding: 20px; text-align: center;">Nome
								</td>
								<td th:text="${carrinho.descricao}" style="padding: 20px; text-align: center;">Descrição</td>
								
								<td style="padding: 20px; text-align: center;">R$: <span
										th:text="${carrinho.preco}">Preço</span></td>
										
								<td th:text="${carrinho.quantidadeEstoque}" style="padding: 20px; text-align: center;">Estoque</td>

								<td style="padding: 20px; text-align: center;">

									
								</td>
							</tr>
						</tbody>
					</table>
				</div>
					
					
				</div>

			</main>




		</div>
	</div>

</body>

</html>